<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RuCord</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí¨</text></svg>">
</head>
<body>
    <!-- –≠–ö–†–ê–ù –õ–û–ì–ò–ù–ê -->
    <div id="loginScreen" class="login-screen animate__animated animate__fadeIn">
        <div class="login-container">
            <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê -->
            <div class="login-visual">
                <div class="visual-content">
                    <div class="logo-main">
                        <i class="fab fa-discord"></i>
                        <h1>Ru<span>Cord</span></h1>
                    </div>
                    <p class="tagline">–û–±—â–∞–π—Å—è. –ò–≥—Ä–∞–π. –¢–≤–æ—Ä–∏.</p>
                    
                    <div class="features">
                        <div class="feature">
                            <i class="fas fa-comments"></i>
                            <h3>–ß–∞—Ç</h3>
                            <p>–û–±—â–∞–π—Ç–µ—Å—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-headphones"></i>
                            <h3>–ì–æ–ª–æ—Å</h3>
                            <p>–ì–æ–ª–æ—Å–æ–≤—ã–µ –∏ –≤–∏–¥–µ–æ –∑–≤–æ–Ω–∫–∏</p>
                        </div>
                        <div class="feature">
                            <i class="fas fa-users"></i>
                            <h3>–°–æ–æ–±—â–µ—Å—Ç–≤–æ</h3>
                            <p>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä–∞–º</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –§–û–†–ú–ê -->
            <div class="login-form-container">
                <div class="form-wrapper">
                    <div class="form-tabs">
                        <button class="tab-btn active" onclick="switchTab('login')">–í—Ö–æ–¥</button>
                        <button class="tab-btn" onclick="switchTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                    </div>

                    <!-- –§–û–†–ú–ê –í–•–û–î–ê -->
                    <form id="loginForm" class="auth-form active">
                        <h2>–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º!</h2>
                        <p class="form-subtitle">–ú—ã —Ä–∞–¥—ã —Å–Ω–æ–≤–∞ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å!</p>
                        
                        <div class="input-group">
                            <label for="loginEmail">Email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="loginEmail" placeholder="you@example.com" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="loginPassword">–ü–∞—Ä–æ–ª—å</label>
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="loginPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                                <button type="button" class="show-password" onclick="togglePassword('loginPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="form-options">
                            <label class="checkbox">
                                <input type="checkbox" id="rememberMe" checked>
                                <span class="custom-checkbox"></span>
                                –ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è
                            </label>
                            <a href="#" class="forgot-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                        </div>

                        <button type="button" onclick="loginUser()" class="btn-login">
                            <span class="btn-text">–í–æ–π—Ç–∏</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>

                        <div class="divider">
                            <span>–∏–ª–∏</span>
                        </div>

                        <button type="button" class="btn-qr">
                            <i class="fas fa-qrcode"></i>
                            –í–æ–π—Ç–∏ —Å QR-–∫–æ–¥–æ–º
                        </button>
                    </form>

                    <!-- –§–û–†–ú–ê –†–ï–ì–ò–°–¢–†–ê–¶–ò–ò -->
                    <form id="registerForm" class="auth-form">
                        <h2>–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h2>
                        <p class="form-subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –Ω–∞—à–µ–º—É —Å–æ–æ–±—â–µ—Å—Ç–≤—É!</p>
                        
                        <div class="input-group">
                            <label for="regEmail">Email</label>
                            <div class="input-with-icon">
                                <i class="fas fa-envelope"></i>
                                <input type="email" id="regEmail" placeholder="you@example.com" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="regUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <div class="input-with-icon">
                                <i class="fas fa-user"></i>
                                <input type="text" id="regUsername" placeholder="–ö—Ä—É—Ç–æ–µ–ò–º—è" required>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="regPassword">–ü–∞—Ä–æ–ª—å</label>
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="regPassword" placeholder="–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤" required>
                                <button type="button" class="show-password" onclick="togglePassword('regPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="input-group">
                            <label for="regPasswordConfirm">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                            <div class="input-with-icon">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="regPasswordConfirm" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                            </div>
                        </div>

                        <div class="terms">
                            <label class="checkbox">
                                <input type="checkbox" id="acceptTerms" required>
                                <span class="custom-checkbox"></span>
                                –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="#">–£—Å–ª–æ–≤–∏—è–º–∏</a> –∏ <a href="#">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                            </label>
                        </div>

                        <button type="button" onclick="registerUser()" class="btn-register">
                            <span class="btn-text">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° -->
    <div id="chatScreen" class="chat-screen" style="display: none;">
        <!-- –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ -->
        <div class="top-bar">
            <div class="server-info">
                <div class="server-icon">
                    <i class="fab fa-discord"></i>
                </div>
                <h2>RuCord</h2>
                <div class="server-status">
                    <i class="fas fa-circle online"></i>
                    <span id="onlineCount">1</span> –æ–Ω–ª–∞–π–Ω
                </div>
            </div>

            <div class="top-actions">
                <button class="action-btn" onclick="toggleVoicePanel()" title="–ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç">
                    <i class="fas fa-headphones"></i>
                </button>
                <button class="action-btn" title="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è">
                    <i class="fas fa-bell"></i>
                    <span class="badge">3</span>
                </button>
                <div class="user-menu" onclick="toggleUserMenu()">
                    <div class="user-avatar-small" id="currentUserAvatar">
                        <!-- –ê–≤–∞—Ç–∞—Ä –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                </div>
            </div>
        </div>

        <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† -->
        <div class="main-container">
            <!-- –õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
            <nav class="sidebar">
                <!-- –°–ï–†–í–ï–†–´ -->
                <div class="servers">
                    <div class="server-btn active" data-server="home" onclick="switchServer('home')">
                        <div class="server-icon-small">
                            <i class="fas fa-home"></i>
                        </div>
                    </div>
                    <div class="server-btn" data-server="gaming" onclick="switchServer('gaming')">
                        <div class="server-icon-small">
                            <i class="fas fa-gamepad"></i>
                        </div>
                    </div>
                    <div class="server-btn" data-server="music" onclick="switchServer('music')">
                        <div class="server-icon-small">
                            <i class="fas fa-music"></i>
                        </div>
                    </div>
                    <div class="server-btn" data-server="study" onclick="switchServer('study')">
                        <div class="server-icon-small">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                    </div>
                </div>

                <!-- –ö–ê–ù–ê–õ–´ -->
                <div class="channels-section">
                    <div class="section-header">
                        <span>–¢–ï–ö–°–¢–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                        <button class="add-btn" onclick="addChannel()">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="channels-list">
                        <a href="#" class="channel active" onclick="switchChannel('general')">
                            <i class="fas fa-hashtag"></i>
                            <span>–æ—Å–Ω–æ–≤–Ω–æ–π</span>
                        </a>
                        <a href="#" class="channel" onclick="switchChannel('games')">
                            <i class="fas fa-gamepad"></i>
                            <span>–∏–≥—Ä—ã</span>
                            <span class="unread">5</span>
                        </a>
                        <a href="#" class="channel" onclick="switchChannel('music')">
                            <i class="fas fa-music"></i>
                            <span>–º—É–∑—ã–∫–∞</span>
                        </a>
                        <a href="#" class="channel" onclick="switchChannel('memes')">
                            <i class="fas fa-laugh"></i>
                            <span>–º–µ–º—ã</span>
                            <span class="unread">12</span>
                        </a>
                    </div>
                </div>

                <!-- –ì–û–õ–û–°–û–í–´–ï –ö–ê–ù–ê–õ–´ -->
                <div class="channels-section">
                    <div class="section-header">
                        <span>–ì–û–õ–û–°–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                        <button class="add-btn" onclick="addVoiceChannel()">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="voice-channels">
                        <div class="voice-channel" onclick="joinVoice('general')">
                            <div class="voice-icon">
                                <i class="fas fa-volume-up"></i>
                            </div>
                            <div class="voice-info">
                                <span class="voice-name">–û–±—â–∏–π —á–∞—Ç</span>
                                <span class="voice-users">3 –æ–Ω–ª–∞–π–Ω</span>
                            </div>
                            <button class="join-btn" onclick="joinVoice('general')">
                                <i class="fas fa-headphones"></i>
                            </button>
                        </div>
                        <div class="voice-channel" onclick="joinVoice('gaming')">
                            <div class="voice-icon">
                                <i class="fas fa-gamepad"></i>
                            </div>
                            <div class="voice-info">
                                <span class="voice-name">–ò–≥—Ä–æ–≤–æ–π</span>
                                <span class="voice-users">2 –æ–Ω–ª–∞–π–Ω</span>
                            </div>
                            <button class="join-btn" onclick="joinVoice('gaming')">
                                <i class="fas fa-headphones"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ -->
                <div class="user-card">
                    <div class="user-avatar" id="userAvatar">
                        <!-- –ê–≤–∞—Ç–∞—Ä –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —á–µ—Ä–µ–∑ JS -->
                    </div>
                    <div class="user-info">
                        <span class="username" id="usernameDisplay">–ì–æ—Å—Ç—å</span>
                        <span class="user-status">#0000</span>
                    </div>
                    <div class="user-actions">
                        <button class="user-action-btn" onclick="toggleMic()">
                            <i class="fas fa-microphone"></i>
                        </button>
                        <button class="user-action-btn" onclick="toggleDeafen()">
                            <i class="fas fa-headphones"></i>
                        </button>
                        <button class="user-action-btn" onclick="openSettings()">
                            <i class="fas fa-cog"></i>
                        </button>
                    </div>
                </div>
            </nav>

            <!-- –û–°–ù–û–í–ù–ê–Ø –û–ë–õ–ê–°–¢–¨ -->
            <main class="main-content">
                <!-- –®–ê–ü–ö–ê –ö–ê–ù–ê–õ–ê -->
                <div class="channel-header">
                    <div class="channel-title">
                        <i class="fas fa-hashtag"></i>
                        <h1 id="channelName">–æ—Å–Ω–æ–≤–Ω–æ–π</h1>
                        <div class="channel-description">
                            –û–±—â–∏–π –∫–∞–Ω–∞–ª –¥–ª—è –æ–±—â–µ–Ω–∏—è
                        </div>
                    </div>
                    <div class="channel-actions">
                        <button class="channel-action" title="–£—á–∞—Å—Ç–Ω–∏–∫–∏" onclick="toggleMembers()">
                            <i class="fas fa-users"></i>
                            <span class="member-count">15</span>
                        </button>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="–ü–æ–∏—Å–∫..." class="search-input">
                        </div>
                    </div>
                </div>

                <!-- –°–û–û–ë–©–ï–ù–ò–Ø -->
                <div class="messages-container" id="messagesContainer">
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>

                <!-- –ü–û–õ–ï –í–í–û–î–ê -->
                <div class="message-input-area">
                    <div class="input-tools">
                        <button class="tool-btn" onclick="addEmoji('üòä')">
                            <i class="far fa-smile"></i>
                        </button>
                        <button class="tool-btn" onclick="uploadFile()">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    
                    <div class="message-input-wrapper">
                        <form id="messageForm" onsubmit="sendMessage(event)">
                            <input 
                                type="text" 
                                id="messageInput" 
                                placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ..."
                                autocomplete="off"
                            >
                            <button type="submit" class="send-btn">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </form>
                        <div class="typing-indicator" id="typingIndicator">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                            <span id="typingText"></span>
                        </div>
                    </div>
                    
                    <div class="voice-tools">
                        <button class="tool-btn" title="–ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                </div>
            </main>

            <!-- –ü–†–ê–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
            <aside class="right-sidebar" id="rightSidebar">
                <div class="sidebar-header">
                    <h3>–£—á–∞—Å—Ç–Ω–∏–∫–∏</h3>
                    <button class="close-btn" onclick="toggleMembers()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="members-list" id="membersList">
                    <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
            </aside>
        </div>

        <!-- –ì–û–õ–û–°–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ -->
        <div class="voice-panel" id="voicePanel" style="display: none;">
            <div class="voice-panel-header">
                <h4><i class="fas fa-headphones"></i> –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã</h4>
                <button class="close-btn" onclick="toggleVoicePanel()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="voice-panel-content">
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–Ω–∞–ª –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:</p>
                <div class="voice-links">
                    <a href="https://telemost.yandex.ru/j/34914547450041" target="_blank" class="voice-link">
                        <i class="fas fa-comments"></i>
                        <span>–û—Å–Ω–æ–≤–Ω–æ–π –≥–æ–ª–æ—Å–æ–≤–æ–π</span>
                    </a>
                    <a href="https://telemost.yandex.ru/j/57528138882724" target="_blank" class="voice-link">
                        <i class="fas fa-gamepad"></i>
                        <span>–ò–≥—Ä–æ–≤–æ–π —á–∞—Ç</span>
                    </a>
                    <a href="https://telemost.yandex.ru/j/66937963558228" target="_blank" class="voice-link">
                        <i class="fas fa-music"></i>
                        <span>–ú—É–∑—ã–∫–∞–ª—å–Ω—ã–π</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–ö–†–ò–ü–¢–´ -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="script.js"></script>
</body>
</html>
