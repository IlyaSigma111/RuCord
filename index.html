<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RuCord - Discord-–ø–æ–¥–æ–±–Ω—ã–π —á–∞—Ç</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üí¨</text></svg>">
</head>
<body>
    <!-- –≠–ö–†–ê–ù –õ–û–ì–ò–ù–ê -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-box">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h1>RuCord</h1>
                    <p class="subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –ª—É—á—à–µ–º—É —á–∞—Ç—É</p>
                </div>
                
                <form id="loginForm" class="login-form">
                    <div class="form-group">
                        <div class="input-wrapper">
                            <i class="fas fa-user input-icon"></i>
                            <input 
                                type="text" 
                                id="username" 
                                placeholder=" " 
                                autocomplete="username"
                                required>
                            <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <div class="input-underline"></div>
                        </div>
                        <div class="input-hint">–û—Ç 3 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                    
                    <div class="form-group">
                        <div class="input-wrapper">
                            <i class="fas fa-lock input-icon"></i>
                            <input 
                                type="password" 
                                id="password" 
                                placeholder=" " 
                                autocomplete="current-password"
                                required>
                            <label for="password">–ü–∞—Ä–æ–ª—å</label>
                            <div class="input-underline"></div>
                        </div>
                        <div class="input-hint">–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                    
                    <div class="form-group" id="confirmPasswordGroup" style="display: none;">
                        <div class="input-wrapper">
                            <i class="fas fa-lock input-icon"></i>
                            <input 
                                type="password" 
                                id="confirmPassword" 
                                placeholder=" " 
                                autocomplete="new-password">
                            <label for="confirmPassword">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                            <div class="input-underline"></div>
                        </div>
                    </div>
                    
                    <button type="button" onclick="handleAuth()" class="btn-primary" id="authButton">
                        <span class="btn-text">–í–æ–π—Ç–∏ –≤ RuCord</span>
                        <i class="fas fa-arrow-right btn-icon"></i>
                    </button>
                    
                    <div class="form-footer">
                        <a href="#" class="forgot-link">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                        <div class="switch-mode">
                            <span id="modeText">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</span>
                            <button type="button" onclick="toggleRegisterMode()" class="link-btn" id="registerToggleBtn">
                                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                            </button>
                        </div>
                    </div>
                    
                    <div class="demo-info">
                        <i class="fas fa-info-circle"></i>
                        –î–µ–º–æ-—Ä–µ–∂–∏–º: –ª—é–±–æ–π –ø–∞—Ä–æ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
                    </div>
                </form>
                
                <div class="login-ornament">
                    <div class="ornament-dot"></div>
                    <div class="ornament-dot"></div>
                    <div class="ornament-dot"></div>
                </div>
            </div>
            
            <div class="login-graphics">
                <div class="graphic-element el1">
                    <i class="fas fa-comment-dots"></i>
                </div>
                <div class="graphic-element el2">
                    <i class="fas fa-users"></i>
                </div>
                <div class="graphic-element el3">
                    <i class="fas fa-rocket"></i>
                </div>
            </div>
        </div>
        
        <div class="background-animation">
            <div class="bg-circle c1"></div>
            <div class="bg-circle c2"></div>
            <div class="bg-circle c3"></div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° –ß–ê–¢–ê -->
    <div id="chatScreen" class="chat-screen" style="display: none;">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
        <header class="app-header">
            <div class="header-left">
                <button class="menu-btn" onclick="toggleServerList()">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="server-name">
                    <div class="server-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <span class="server-text">RuCord Main</span>
                </div>
            </div>
            
            <div class="header-center">
                <div class="channel-info">
                    <i class="fas fa-hashtag"></i>
                    <span id="currentChannelName">–æ–±—â–∏–π</span>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-profile">
                    <div class="user-avatar" id="userAvatar">
                        <span id="avatarText">U</span>
                    </div>
                    <div class="user-details">
                        <span class="user-name" id="currentUserName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                        <span class="user-status online" id="userStatus">online</span>
                    </div>
                </div>
                <button class="settings-btn" onclick="showSettings()">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="app-content">
            <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (—Å–µ—Ä–≤–µ—Ä—ã) -->
            <aside class="server-sidebar">
                <div class="server-list" id="serverList">
                    <div class="server-item active" data-server="home">
                        <div class="server-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="server-tooltip">–ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä</div>
                    </div>
                    <div class="server-item" data-server="gaming">
                        <div class="server-icon">
                            <i class="fas fa-gamepad"></i>
                        </div>
                        <div class="server-tooltip">–ò–≥—Ä—ã</div>
                    </div>
                    <div class="server-item" data-server="study">
                        <div class="server-icon">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                        <div class="server-tooltip">–£—á—ë–±–∞</div>
                    </div>
                    <div class="server-item add-server">
                        <div class="server-icon">
                            <i class="fas fa-plus"></i>
                        </div>
                        <div class="server-tooltip">–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</div>
                    </div>
                </div>
            </aside>

            <!-- –ü–∞–Ω–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ -->
            <nav class="channel-sidebar">
                <div class="channel-header">
                    <h2 class="server-title">RuCord Main</h2>
                    <button class="invite-btn">
                        <i class="fas fa-user-plus"></i>
                    </button>
                </div>
                
                <div class="channel-category">
                    <div class="category-header">
                        <span>–¢–ï–ö–°–¢–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                    </div>
                    <div class="channel-list">
                        <div class="channel-item active" data-channel="general" onclick="switchChannel('general')">
                            <i class="fas fa-hashtag"></i>
                            <span class="channel-name">–æ–±—â–∏–π</span>
                        </div>
                        <div class="channel-item" data-channel="games" onclick="switchChannel('games')">
                            <i class="fas fa-hashtag"></i>
                            <span class="channel-name">–∏–≥—Ä—ã</span>
                            <span class="unread-badge" id="gamesBadge" style="display: none;">3</span>
                        </div>
                        <div class="channel-item" data-channel="music" onclick="switchChannel('music')">
                            <i class="fas fa-hashtag"></i>
                            <span class="channel-name">–º—É–∑—ã–∫–∞</span>
                        </div>
                        <div class="channel-item" data-channel="memes" onclick="switchChannel('memes')">
                            <i class="fas fa-hashtag"></i>
                            <span class="channel-name">–º–µ–º—ã</span>
                        </div>
                    </div>
                </div>
                
                <div class="channel-category">
                    <div class="category-header">
                        <span>–ì–û–õ–û–°–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                    </div>
                    <div class="channel-list">
                        <div class="channel-item voice" onclick="joinVoiceChannel()">
                            <i class="fas fa-headphones"></i>
                            <span class="channel-name">–û–±—â–∏–π —á–∞—Ç</span>
                            <span class="voice-count">5</span>
                        </div>
                    </div>
                </div>
                
                <div class="direct-messages">
                    <div class="dm-header">
                        <span>–õ–ò–ß–ù–´–ï –°–û–û–ë–©–ï–ù–ò–Ø</span>
                    </div>
                    <div class="dm-list" id="dmList">
                        <!-- –î–∏–∞–ª–æ–≥–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <div class="user-panel">
                    <div class="current-user">
                        <div class="user-avatar small">
                            <span>U</span>
                        </div>
                        <div class="user-info">
                            <span class="username" id="sidebarUserName">Username</span>
                            <span class="user-id" id="sidebarUserId">#0001</span>
                        </div>
                        <div class="user-controls">
                            <button class="control-btn">
                                <i class="fas fa-microphone"></i>
                            </button>
                            <button class="control-btn">
                                <i class="fas fa-headphones"></i>
                            </button>
                            <button class="control-btn" onclick="showSettings()">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
            <main class="chat-area">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–Ω–∞–ª–∞ -->
                <div class="chat-header">
                    <div class="channel-header">
                        <i class="fas fa-hashtag"></i>
                        <h2 id="channelHeaderName">–æ–±—â–∏–π</h2>
                        <div class="channel-topic" id="channelTopic">–û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã</div>
                    </div>
                    <div class="channel-actions">
                        <button class="header-btn" title="–£—á–∞—Å—Ç–Ω–∏–∫–∏" onclick="toggleMemberList()">
                            <i class="fas fa-user-friends"></i>
                            <span class="member-count" id="memberCount">1</span>
                        </button>
                        <button class="header-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞">
                            <i class="fas fa-cog"></i>
                        </button>
                    </div>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π -->
                <div class="messages-container" id="messagesContainer">
                    <div class="welcome-message">
                        <div class="welcome-icon">
                            <i class="fas fa-comment-alt"></i>
                        </div>
                        <h3>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ #–æ–±—â–∏–π!</h3>
                        <p>–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∫–∞–Ω–∞–ª–∞ #–æ–±—â–∏–π.</p>
                    </div>
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
                <div class="message-input-area">
                    <div class="input-container">
                        <button class="input-btn attach-btn">
                            <i class="fas fa-plus"></i>
                        </button>
                        <div class="message-input-wrapper">
                            <input 
                                type="text" 
                                id="messageInput" 
                                placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ #–æ–±—â–∏–π..."
                                autocomplete="off">
                            <div class="input-actions">
                                <button class="input-action-btn">
                                    <i class="fas fa-at"></i>
                                </button>
                                <button class="input-action-btn">
                                    <i class="fas fa-gift"></i>
                                </button>
                                <button class="input-action-btn">
                                    <i class="fas fa-grin"></i>
                                </button>
                            </div>
                        </div>
                        <button class="input-btn send-btn" onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="input-hint">
                        –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏, Shift+Enter –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏
                    </div>
                </div>
            </main>

            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (—É—á–∞—Å—Ç–Ω–∏–∫–∏) -->
            <aside class="member-sidebar" id="memberSidebar">
                <div class="member-header">
                    <h3>–£–ß–ê–°–¢–ù–ò–ö–ò ‚Äî <span id="onlineMembersCount">1</span></h3>
                    <button class="close-members" onclick="toggleMemberList()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="members-list" id="membersList">
                    <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
                <div class="invite-section">
                    <button class="invite-friends-btn">
                        <i class="fas fa-user-plus"></i>
                        –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π
                    </button>
                </div>
            </aside>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –∑–≤—É–∫–æ–≤ -->
    <audio id="messageSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3" type="audio/mpeg">
    </audio>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Firebase –∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <!-- Firebase v9 (–º–æ–¥—É–ª—å–Ω—ã–π) -->
    <script type="module">
        // –ò–º–ø–æ—Ä—Ç Firebase
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set, push, onValue, update, remove } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCMrOR72baFZO7WkThLCV1i8mGOSSiyOQU",
            authDomain: "rucord-f52c5.firebaseapp.com",
            databaseURL: "https://rucord-f52c5-default-rtdb.firebaseio.com",
            projectId: "rucord-f52c5",
            storageBucket: "rucord-f52c5.firebasestorage.app",
            messagingSenderId: "271482429632",
            appId: "1:271482429632:web:cb29bee0edb0abee130d25"
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        // –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–∫—Ä–∏–ø—Ç–µ
        window.firebaseDatabase = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebasePush = push;
        window.firebaseOnValue = onValue;
        window.firebaseUpdate = update;
        window.firebaseRemove = remove;
        
        console.log("Firebase v9 –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!");
    </script>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="script.js"></script>
</body>
</html>
