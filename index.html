<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RuCord | –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —á–∞—Ç</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üéÆ</text></svg>">
    
    <!-- Lottie Animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.8/lottie.min.js"></script>
    
    <!-- Three.js –¥–ª—è 3D —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <!-- Anime.js –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –∞–Ω–∏–º–∞—Ü–∏–π -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ */
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(88, 101, 242, 0.3); }
            50% { box-shadow: 0 0 40px rgba(88, 101, 242, 0.6); }
        }
        
        .shine-effect {
            position: relative;
            overflow: hidden;
        }
        
        .shine-effect::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to right,
                rgba(255, 255, 255, 0) 0%,
                rgba(255, 255, 255, 0.1) 50%,
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            transition: transform 0.6s;
        }
        
        .shine-effect:hover::after {
            transform: rotate(30deg) translate(20%, 20%);
        }
        
        .neon-border {
            position: relative;
            border: 2px solid transparent;
            background-clip: padding-box;
        }
        
        .neon-border::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff3366, #ff9966, #ffcc00, #33cc33, #3399ff, #9966ff);
            border-radius: inherit;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s;
        }
        
        .neon-border:hover::before {
            opacity: 1;
            animation: border-rotate 3s linear infinite;
        }
        
        @keyframes border-rotate {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        /* –í–æ–ª–Ω—ã –≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö */
        .voice-waves {
            display: flex;
            align-items: center;
            gap: 3px;
            margin-left: auto;
        }
        
        .wave {
            width: 3px;
            height: 10px;
            background: #43b581;
            border-radius: 3px;
            animation: wave 1s ease-in-out infinite;
        }
        
        .wave:nth-child(2) { animation-delay: 0.1s; }
        .wave:nth-child(3) { animation-delay: 0.2s; }
        .wave:nth-child(4) { animation-delay: 0.3s; }
        .wave:nth-child(5) { animation-delay: 0.4s; }
        
        @keyframes wave {
            0%, 100% { transform: scaleY(0.5); }
            50% { transform: scaleY(1.5); }
        }
        
        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è 3D –∞–Ω–∏–º–∞—Ü–∏–∏ */
        #three-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –ø–∞—Ä–∞–ª–ª–∞–∫—Å–∞ */
        .parallax-layer {
            position: absolute;
            will-change: transform;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
        .text-reveal {
            opacity: 0;
            transform: translateY(20px);
            animation: text-reveal 0.8s ease forwards;
        }
        
        @keyframes text-reveal {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –Ω–∞–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞ */
        .typing-indicator {
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }
        
        .typing-dot {
            width: 6px;
            height: 6px;
            background: #72767d;
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-8px); }
        }
        
        /* –ì–æ–ª–æ–≥—Ä–∞–º–º–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ */
        .hologram-effect {
            position: relative;
            overflow: hidden;
        }
        
        .hologram-effect::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                45deg,
                transparent 30%,
                rgba(255, 255, 255, 0.1) 50%,
                transparent 70%
            );
            transform: rotate(45deg);
            animation: hologram-scan 4s linear infinite;
        }
        
        @keyframes hologram-scan {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        @keyframes notification-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .notification-pulse {
            animation: notification-pulse 2s infinite;
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç –º–µ—Ä—Ü–∞–Ω–∏—è */
        .flicker {
            animation: flicker 3s linear infinite;
        }
        
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* –≠—Ñ—Ñ–µ–∫—Ç —Å–∏—è–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
        .glow-text {
            text-shadow: 0 0 10px currentColor;
            animation: glow-pulse 3s ease-in-out infinite;
        }
        
        @keyframes glow-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
    </style>
</head>
<body>
    <!-- –ß–∞—Å—Ç–∏—Ü—ã —Ñ–æ–Ω–∞ -->
    <div id="particles-js"></div>
    
    <!-- 3D –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div id="three-container"></div>
    
    <!-- –≠–ö–†–ê–ù –õ–û–ì–ò–ù–ê -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø -->
            <div class="logo-animation-container">
                <div class="logo-orbits">
                    <div class="orbit orbit-1">
                        <div class="orbit-dot dot-1"></div>
                    </div>
                    <div class="orbit orbit-2">
                        <div class="orbit-dot dot-2"></div>
                    </div>
                    <div class="orbit orbit-3">
                        <div class="orbit-dot dot-3"></div>
                    </div>
                    <div class="logo-center">
                        <i class="fas fa-comments"></i>
                    </div>
                </div>
            </div>
            
            <div class="login-box shine-effect float-animation">
                <div class="logo">
                    <h1 class="glow-text text-reveal" style="--delay: 0.1s">RuCord</h1>
                    <p class="subtitle text-reveal" style="--delay: 0.2s">–ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç –Ω–æ–≤–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è</p>
                </div>
                
                <form id="loginForm" class="login-form">
                    <div class="form-group text-reveal" style="--delay: 0.3s">
                        <div class="input-wrapper neon-border">
                            <i class="fas fa-user input-icon flicker"></i>
                            <input 
                                type="text" 
                                id="username" 
                                placeholder=" " 
                                autocomplete="username"
                                required>
                            <label for="username">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <div class="input-underline"></div>
                        </div>
                        <div class="input-hint pulse-glow">–û—Ç 3 –¥–æ 20 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                    
                    <div class="form-group text-reveal" style="--delay: 0.4s">
                        <div class="input-wrapper neon-border">
                            <i class="fas fa-lock input-icon flicker"></i>
                            <input 
                                type="password" 
                                id="password" 
                                placeholder=" " 
                                autocomplete="current-password"
                                required>
                            <label for="password">–ü–∞—Ä–æ–ª—å</label>
                            <div class="input-underline"></div>
                        </div>
                        <div class="input-hint pulse-glow">–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
                    </div>
                    
                    <div class="form-group text-reveal" style="--delay: 0.5s" id="confirmPasswordGroup" style="display: none;">
                        <div class="input-wrapper neon-border">
                            <i class="fas fa-lock input-icon flicker"></i>
                            <input 
                                type="password" 
                                id="confirmPassword" 
                                placeholder=" " 
                                autocomplete="new-password">
                            <label for="confirmPassword">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                            <div class="input-underline"></div>
                        </div>
                    </div>
                    
                    <button type="button" onclick="handleAuth()" class="btn-primary pulse-glow text-reveal" 
                            id="authButton" style="--delay: 0.6s">
                        <span class="btn-text">–í–æ–π—Ç–∏ –≤ RuCord</span>
                        <i class="fas fa-arrow-right btn-icon"></i>
                        <div class="btn-sparkles">
                            <div class="sparkle"></div>
                            <div class="sparkle"></div>
                            <div class="sparkle"></div>
                        </div>
                    </button>
                    
                    <div class="form-footer text-reveal" style="--delay: 0.7s">
                        <div class="switch-mode">
                            <span id="modeText">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?</span>
                            <button type="button" onclick="toggleRegisterMode()" class="link-btn pulse-glow" 
                                    id="registerToggleBtn">
                                –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                            </button>
                        </div>
                    </div>
                    
                    <div class="demo-info text-reveal pulse-glow" style="--delay: 0.8s">
                        <i class="fas fa-info-circle flicker"></i>
                        –î–µ–º–æ-—Ä–µ–∂–∏–º: –ª—é–±–æ–π –ø–∞—Ä–æ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
                    </div>
                </form>
                
                <div class="login-ornament">
                    <div class="ornament-dot pulse-glow"></div>
                    <div class="ornament-dot pulse-glow" style="animation-delay: 0.2s"></div>
                    <div class="ornament-dot pulse-glow" style="animation-delay: 0.4s"></div>
                </div>
            </div>
            
            <div class="login-graphics">
                <div class="graphic-element el1 float-animation hologram-effect">
                    <i class="fas fa-comment-dots"></i>
                    <div class="graphic-glow"></div>
                </div>
                <div class="graphic-element el2 float-animation hologram-effect" style="animation-delay: 0.2s">
                    <i class="fas fa-users"></i>
                    <div class="graphic-glow"></div>
                </div>
                <div class="graphic-element el3 float-animation hologram-effect" style="animation-delay: 0.4s">
                    <i class="fas fa-microphone"></i>
                    <div class="graphic-glow"></div>
                </div>
                <div class="graphic-element el4 float-animation hologram-effect" style="animation-delay: 0.6s">
                    <i class="fas fa-video"></i>
                    <div class="graphic-glow"></div>
                </div>
            </div>
        </div>
        
        <div class="background-animation">
            <div class="bg-circle c1 pulse-glow"></div>
            <div class="bg-circle c2 pulse-glow" style="animation-delay: 0.5s"></div>
            <div class="bg-circle c3 pulse-glow" style="animation-delay: 1s"></div>
        </div>
        
        <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω —Å –≤–æ–ª–Ω–∞–º–∏ -->
        <div class="wave-background">
            <div class="wave wave-1"></div>
            <div class="wave wave-2"></div>
            <div class="wave wave-3"></div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° –ß–ê–¢–ê -->
    <div id="chatScreen" class="chat-screen" style="display: none;">
        <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ -->
        <header class="app-header shine-effect">
            <div class="header-left">
                <button class="menu-btn pulse-glow" onclick="toggleServerList()">
                    <i class="fas fa-bars"></i>
                    <div class="btn-ripple"></div>
                </button>
                <div class="server-name">
                    <div class="server-icon pulse-glow">
                        <i class="fas fa-home flicker"></i>
                    </div>
                    <span class="server-text glow-text">RuCord Main</span>
                </div>
            </div>
            
            <div class="header-center">
                <div class="channel-info">
                    <i class="fas fa-hashtag flicker"></i>
                    <span id="currentChannelName" class="glow-text">–æ–±—â–∏–π</span>
                </div>
                <div class="voice-status pulse-glow" id="voiceStatus" style="display: none;">
                    <i class="fas fa-microphone flicker"></i>
                    <span class="glow-text">–ì–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª</span>
                    <button class="leave-voice-btn pulse-glow" onclick="leaveVoiceChannel()">
                        <i class="fas fa-phone-slash"></i>
                    </button>
                </div>
            </div>
            
            <div class="header-right">
                <div class="user-profile pulse-glow" onclick="showUserProfile()">
                    <div class="user-avatar float-animation" id="userAvatar">
                        <span id="avatarText">U</span>
                        <div class="avatar-ring"></div>
                    </div>
                    <div class="user-details">
                        <span class="user-name glow-text" id="currentUserName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                        <span class="user-status online flicker" id="userStatus">online</span>
                    </div>
                </div>
                <button class="settings-btn pulse-glow" onclick="showSettings()">
                    <i class="fas fa-cog flicker"></i>
                    <div class="btn-ripple"></div>
                </button>
                <button class="voice-btn pulse-glow" id="voiceToggleBtn" onclick="toggleVoiceChat()">
                    <i class="fas fa-microphone flicker"></i>
                    <div class="btn-ripple"></div>
                </button>
            </div>
            
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
            <div class="activity-indicator">
                <div class="activity-dot pulse-glow"></div>
                <span id="activityText">–í—Å–µ —Å–∏—Å—Ç–µ–º—ã –∞–∫—Ç–∏–≤–Ω—ã</span>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –ø–∞—Ä–∞–ª–ª–∞–∫—Å–æ–º -->
        <div class="app-content">
            <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (—Å–µ—Ä–≤–µ—Ä—ã) -->
            <aside class="server-sidebar shine-effect">
                <div class="server-list" id="serverList">
                    <div class="server-item active pulse-glow hologram-effect" data-server="home">
                        <div class="server-icon">
                            <i class="fas fa-home flicker"></i>
                        </div>
                        <div class="server-tooltip">–ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä</div>
                        <div class="server-glow"></div>
                    </div>
                    <div class="server-item pulse-glow hologram-effect" data-server="gaming">
                        <div class="server-icon">
                            <i class="fas fa-gamepad flicker"></i>
                        </div>
                        <div class="server-tooltip">–ò–≥—Ä—ã</div>
                        <div class="server-glow"></div>
                    </div>
                    <div class="server-item pulse-glow hologram-effect" data-server="music">
                        <div class="server-icon">
                            <i class="fas fa-music flicker"></i>
                        </div>
                        <div class="server-tooltip">–ú—É–∑—ã–∫–∞</div>
                        <div class="server-glow"></div>
                    </div>
                    <div class="server-item pulse-glow hologram-effect" data-server="stream">
                        <div class="server-icon">
                            <i class="fas fa-broadcast-tower flicker"></i>
                        </div>
                        <div class="server-tooltip">–°—Ç—Ä–∏–º—ã</div>
                        <div class="server-glow"></div>
                    </div>
                    <div class="server-item pulse-glow hologram-effect" data-server="study">
                        <div class="server-icon">
                            <i class="fas fa-graduation-cap flicker"></i>
                        </div>
                        <div class="server-tooltip">–£—á—ë–±–∞</div>
                        <div class="server-glow"></div>
                    </div>
                    <div class="server-item add-server pulse-glow hologram-effect" onclick="showCreateServerModal()">
                        <div class="server-icon">
                            <i class="fas fa-plus flicker"></i>
                        </div>
                        <div class="server-tooltip">–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</div>
                        <div class="server-glow"></div>
                    </div>
                </div>
                
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
                <div class="connection-status pulse-glow">
                    <div class="status-dot online"></div>
                    <span>–ü–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
                    <div class="ping-indicator flicker">24ms</div>
                </div>
            </aside>

            <!-- –ü–∞–Ω–µ–ª—å –∫–∞–Ω–∞–ª–æ–≤ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ -->
            <nav class="channel-sidebar shine-effect">
                <div class="channel-header">
                    <h2 class="server-title glow-text">RuCord Main</h2>
                    <button class="invite-btn pulse-glow" onclick="showInviteModal()">
                        <i class="fas fa-user-plus flicker"></i>
                        <div class="btn-ripple"></div>
                    </button>
                </div>
                
                <div class="channel-category">
                    <div class="category-header">
                        <span class="glow-text">–¢–ï–ö–°–¢–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                        <button class="add-channel-btn pulse-glow" onclick="showCreateChannelModal('text')">
                            <i class="fas fa-plus flicker"></i>
                        </button>
                    </div>
                    <div class="channel-list" id="textChannels">
                        <!-- –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã –±—É–¥—É—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã -->
                    </div>
                </div>
                
                <!-- –Ø–ù–î–ï–ö–°.–¢–ï–õ–ï–ú–û–°–¢ –ì–û–õ–û–°–û–í–´–ï –ö–ê–ù–ê–õ–´ –° –ê–ù–ò–ú–ê–¶–ò–Ø–ú–ò -->
                <div class="channel-category">
                    <div class="category-header">
                        <span class="glow-text">üéôÔ∏è –ì–û–õ–û–°–û–í–´–ï –ö–ê–ù–ê–õ–´</span>
                        <div class="live-indicator pulse-glow">
                            <div class="live-dot"></div>
                            <span>LIVE</span>
                        </div>
                    </div>
                    <div class="channel-list" id="voiceChannels">
                        <!-- –ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã —Å –Ø–Ω–¥–µ–∫—Å.–¢–µ–ª–µ–º–æ—Å—Ç -->
                        <div class="channel-item voice pulse-glow hologram-effect" 
                             onclick="joinTelemostChannel('https://telemost.yandex.ru/j/13558610862708', '–û–±—â–∏–π —á–∞—Ç')"
                             data-channel="general-voice">
                            <div class="channel-icon-wrapper">
                                <i class="fas fa-headphones flicker"></i>
                                <div class="channel-pulse"></div>
                            </div>
                            <span class="channel-name glow-text">–û–±—â–∏–π —á–∞—Ç</span>
                            <div class="voice-waves">
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                            </div>
                            <span class="voice-count pulse-glow">5</span>
                            <div class="channel-hover-effect"></div>
                        </div>
                        
                        <div class="channel-item voice pulse-glow hologram-effect" 
                             onclick="joinTelemostChannel('https://telemost.yandex.ru/j/31985878188452', '–ò–≥—Ä–æ–≤–æ–π –ª–æ–±–±–∏')"
                             data-channel="gaming-voice">
                            <div class="channel-icon-wrapper">
                                <i class="fas fa-gamepad flicker"></i>
                                <div class="channel-pulse" style="animation-delay: 0.1s"></div>
                            </div>
                            <span class="channel-name glow-text">–ò–≥—Ä–æ–≤–æ–π –ª–æ–±–±–∏</span>
                            <div class="voice-waves">
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                            </div>
                            <span class="voice-count pulse-glow">3</span>
                            <div class="channel-hover-effect"></div>
                        </div>
                        
                        <div class="channel-item voice pulse-glow hologram-effect" 
                             onclick="joinTelemostChannel('https://telemost.yandex.ru/j/66937963558228', '–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞')"
                             data-channel="music-voice">
                            <div class="channel-icon-wrapper">
                                <i class="fas fa-music flicker"></i>
                                <div class="channel-pulse" style="animation-delay: 0.2s"></div>
                            </div>
                            <span class="channel-name glow-text">–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞</span>
                            <div class="voice-waves">
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                            </div>
                            <span class="voice-count pulse-glow">4</span>
                            <div class="channel-hover-effect"></div>
                        </div>
                        
                        <div class="channel-item voice pulse-glow hologram-effect" 
                             onclick="joinTelemostChannel('https://telemost.yandex.ru/j/57528138882724', '–°—Ç—Ä–∏–º–µ—Ä—Å–∫–∞—è')"
                             data-channel="stream-voice">
                            <div class="channel-icon-wrapper">
                                <i class="fas fa-broadcast-tower flicker"></i>
                                <div class="channel-pulse" style="animation-delay: 0.3s"></div>
                            </div>
                            <span class="channel-name glow-text">–°—Ç—Ä–∏–º–µ—Ä—Å–∫–∞—è</span>
                            <div class="voice-waves">
                                <div class="wave"></div>
                                <div class="wave"></div>
                            </div>
                            <span class="voice-count pulse-glow">2</span>
                            <div class="channel-hover-effect"></div>
                        </div>
                        
                        <div class="channel-item voice pulse-glow hologram-effect" 
                             onclick="joinTelemostChannel('https://telemost.yandex.ru/j/34914547450041', '–£—á–µ–±–Ω–∞—è –≥—Ä—É–ø–ø–∞')"
                             data-channel="study-voice">
                            <div class="channel-icon-wrapper">
                                <i class="fas fa-graduation-cap flicker"></i>
                                <div class="channel-pulse" style="animation-delay: 0.4s"></div>
                            </div>
                            <span class="channel-name glow-text">–£—á–µ–±–Ω–∞—è –≥—Ä—É–ø–ø–∞</span>
                            <div class="voice-waves">
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                            </div>
                            <span class="voice-count pulse-glow">5</span>
                            <div class="channel-hover-effect"></div>
                        </div>
                    </div>
                </div>
                
                <!-- –í–ò–î–ï–û –ö–ê–ù–ê–õ–´ -->
                <div class="channel-category">
                    <div class="category-header">
                        <span class="glow-text">üìπ –í–ò–î–ï–û –ö–ê–ù–ê–õ–´</span>
                    </div>
                    <div class="channel-list">
                        <div class="channel-item video pulse-glow hologram-effect" onclick="joinVideoChannel()">
                            <div class="channel-icon-wrapper">
                                <i class="fas fa-video flicker"></i>
                                <div class="video-indicator pulse-glow"></div>
                            </div>
                            <span class="channel-name glow-text">–í–∏–¥–µ–æ-–∫–æ–º–Ω–∞—Ç–∞</span>
                            <span class="video-count pulse-glow">3</span>
                            <div class="channel-hover-effect"></div>
                        </div>
                    </div>
                </div>
                
                <div class="direct-messages">
                    <div class="dm-header">
                        <span class="glow-text">üí¨ –õ–ò–ß–ù–´–ï –°–û–û–ë–©–ï–ù–ò–Ø</span>
                        <button class="add-dm-btn pulse-glow" onclick="startNewDM()">
                            <i class="fas fa-plus flicker"></i>
                        </button>
                    </div>
                    <div class="dm-list" id="dmList">
                        <!-- –î–∏–∞–ª–æ–≥–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <div class="user-panel shine-effect">
                    <div class="current-user">
                        <div class="user-avatar small float-animation" id="sidebarUserAvatar">
                            <span>U</span>
                            <div class="avatar-status online"></div>
                        </div>
                        <div class="user-info">
                            <span class="username glow-text" id="sidebarUserName">Username</span>
                            <span class="user-id flicker" id="sidebarUserId">#0001</span>
                        </div>
                        <div class="user-controls">
                            <button class="control-btn pulse-glow" id="micBtn" onclick="toggleMicrophone()">
                                <i class="fas fa-microphone flicker"></i>
                                <div class="control-indicator"></div>
                            </button>
                            <button class="control-btn pulse-glow" id="deafenBtn" onclick="toggleDeafen()">
                                <i class="fas fa-headphones flicker"></i>
                                <div class="control-indicator"></div>
                            </button>
                            <button class="control-btn pulse-glow" onclick="showSettings()">
                                <i class="fas fa-cog flicker"></i>
                                <div class="control-indicator"></div>
                            </button>
                        </div>
                    </div>
                </div>
            </nav>

            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ —Å –ø–∞—Ä–∞–ª–ª–∞–∫—Å–æ–º -->
            <main class="chat-area">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞–Ω–∞–ª–∞ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ -->
                <div class="chat-header shine-effect">
                    <div class="channel-header">
                        <i class="fas fa-hashtag flicker" id="channelIcon"></i>
                        <h2 class="glow-text" id="channelHeaderName">–æ–±—â–∏–π</h2>
                        <div class="channel-topic flicker" id="channelTopic">
                            <span>–û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã</span>
                            <div class="topic-edit pulse-glow" onclick="editChannelTopic()">
                                <i class="fas fa-edit"></i>
                            </div>
                        </div>
                    </div>
                    <div class="channel-actions">
                        <button class="header-btn pulse-glow" title="–£—á–∞—Å—Ç–Ω–∏–∫–∏" onclick="toggleMemberList()">
                            <i class="fas fa-user-friends flicker"></i>
                            <span class="member-count pulse-glow" id="memberCount">1</span>
                            <div class="btn-ripple"></div>
                        </button>
                        <button class="header-btn pulse-glow" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞" onclick="showChannelSettings()">
                            <i class="fas fa-cog flicker"></i>
                            <div class="btn-ripple"></div>
                        </button>
                        <button class="header-btn pulse-glow" title="–ü–æ–∏—Å–∫" onclick="showSearch()">
                            <i class="fas fa-search flicker"></i>
                            <div class="btn-ripple"></div>
                        </button>
                        <button class="header-btn pulse-glow" title="–ó–∞–∫—Ä–µ–ø–ª—ë–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è" onclick="showPinnedMessages()">
                            <i class="fas fa-thumbtack flicker"></i>
                            <div class="pin-count pulse-glow">3</div>
                            <div class="btn-ripple"></div>
                        </button>
                        <button class="header-btn pulse-glow" title="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" onclick="toggleNotifications()">
                            <i class="fas fa-bell flicker"></i>
                            <div class="notification-badge pulse-glow">2</div>
                            <div class="btn-ripple"></div>
                        </button>
                    </div>
                    
                    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏—è -->
                    <div class="typing-indicator-container" id="typingIndicator" style="display: none;">
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                        <span id="typingUsers">–ö—Ç–æ-—Ç–æ –ø–µ—á–∞—Ç–∞–µ—Ç...</span>
                    </div>
                </div>
                
                <!-- –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ -->
                <div class="messages-container" id="messagesContainer">
                    <div class="welcome-message text-reveal">
                        <div class="welcome-icon float-animation">
                            <i class="fas fa-comment-alt flicker"></i>
                            <div class="welcome-glow"></div>
                        </div>
                        <h3 class="glow-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ #–æ–±—â–∏–π!</h3>
                        <p class="flicker">–≠—Ç–æ –Ω–∞—á–∞–ª–æ –∫–∞–Ω–∞–ª–∞ #–æ–±—â–∏–π. –ù–∞—á–Ω–∏—Ç–µ –æ–±—â–µ–Ω–∏–µ!</p>
                        <div class="welcome-effects">
                            <div class="effect-dot pulse-glow"></div>
                            <div class="effect-dot pulse-glow" style="animation-delay: 0.2s"></div>
                            <div class="effect-dot pulse-glow" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                    <!-- –°–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –∑–¥–µ—Å—å -->
                </div>
                
                <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ -->
                <div class="message-input-area shine-effect">
                    <div class="input-container">
                        <button class="input-btn attach-btn pulse-glow" onclick="showAttachmentMenu()">
                            <i class="fas fa-plus flicker"></i>
                            <div class="btn-ripple"></div>
                            <div class="attachment-preview pulse-glow"></div>
                        </button>
                        <div class="message-input-wrapper neon-border">
                            <input 
                                type="text" 
                                id="messageInput" 
                                placeholder="–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ #–æ–±—â–∏–π..."
                                autocomplete="off">
                            <div class="input-actions">
                                <button class="input-action-btn pulse-glow" onclick="showGIFPicker()">
                                    <i class="fas fa-gift flicker"></i>
                                    <div class="btn-ripple"></div>
                                </button>
                                <button class="input-action-btn pulse-glow" onclick="showEmojiPicker()">
                                    <i class="fas fa-grin flicker"></i>
                                    <div class="btn-ripple"></div>
                                </button>
                                <button class="input-action-btn pulse-glow" onclick="showStickerPicker()">
                                    <i class="fas fa-sticky-note flicker"></i>
                                    <div class="btn-ripple"></div>
                                </button>
                                <button class="input-action-btn pulse-glow" onclick="showFormattingMenu()">
                                    <i class="fas fa-font flicker"></i>
                                    <div class="btn-ripple"></div>
                                </button>
                            </div>
                            <div class="input-effects">
                                <div class="input-wave"></div>
                            </div>
                        </div>
                        <button class="input-btn send-btn pulse-glow" onclick="sendMessage()" id="sendMessageBtn">
                            <i class="fas fa-paper-plane flicker"></i>
                            <div class="btn-ripple"></div>
                            <div class="send-sparkles">
                                <div class="sparkle"></div>
                                <div class="sparkle"></div>
                                <div class="sparkle"></div>
                            </div>
                        </button>
                    </div>
                    <div class="input-hint flicker">
                        –ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏, Shift+Enter –¥–ª—è –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏
                        <div class="hint-effects">
                            <div class="hint-dot pulse-glow"></div>
                            <div class="hint-dot pulse-glow" style="animation-delay: 0.2s"></div>
                            <div class="hint-dot pulse-glow" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (—É—á–∞—Å—Ç–Ω–∏–∫–∏) —Å –∞–Ω–∏–º–∞—Ü–∏—è–º–∏ -->
            <aside class="member-sidebar shine-effect" id="memberSidebar">
                <div class="member-header">
                    <h3 class="glow-text">üë• –£–ß–ê–°–¢–ù–ò–ö–ò ‚Äî <span class="pulse-glow" id="onlineMembersCount">1</span></h3>
                    <button class="close-members pulse-glow" onclick="toggleMemberList()">
                        <i class="fas fa-times flicker"></i>
                        <div class="btn-ripple"></div>
                    </button>
                </div>
                <div class="members-search neon-border">
                    <i class="fas fa-search flicker"></i>
                    <input type="text" placeholder="–ü–æ–∏—Å–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤..." id="memberSearch">
                    <div class="search-effects">
                        <div class="search-wave"></div>
                    </div>
                </div>
                <div class="members-list" id="membersList">
                    <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
                </div>
                <div class="invite-section">
                    <button class="invite-friends-btn pulse-glow" onclick="showInviteModal()">
                        <i class="fas fa-user-plus flicker"></i>
                        <span>–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å –¥—Ä—É–∑–µ–π</span>
                        <div class="invite-effects">
                            <div class="invite-sparkle"></div>
                            <div class="invite-sparkle"></div>
                            <div class="invite-sparkle"></div>
                        </div>
                    </button>
                </div>
            </aside>
        </div>
        
        <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤ —É–≥–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞ -->
        <div class="corner-indicators">
            <div class="corner-indicator top-left pulse-glow">
                <i class="fas fa-wifi flicker"></i>
                <span class="ping flicker">24ms</span>
            </div>
            <div class="corner-indicator top-right pulse-glow">
                <i class="fas fa-server flicker"></i>
                <span class="status flicker">Online</span>
            </div>
            <div class="corner-indicator bottom-left pulse-glow">
                <div class="time-display flicker" id="liveTime">00:00:00</div>
            </div>
            <div class="corner-indicator bottom-right pulse-glow">
                <div class="voice-activity">
                    <i class="fas fa-signal flicker"></i>
                    <div class="activity-bar"></div>
                </div>
            </div>
        </div>
        
        <!-- –§–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã -->
        <div class="background-effects">
            <div class="floating-orb orb-1"></div>
            <div class="floating-orb orb-2"></div>
            <div class="floating-orb orb-3"></div>
            <div class="grid-lines"></div>
            <div class="scan-line"></div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ì–û–õ–û–°–û–í–û–ì–û –ß–ê–¢–ê –° –ê–ù–ò–ú–ê–¶–ò–Ø–ú–ò -->
    <div id="voiceChatModal" class="modal voice-modal" style="display: none;">
        <div class="modal-content shine-effect">
            <div class="modal-header">
                <h2 class="glow-text"><i class="fas fa-microphone flicker"></i> –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç</h2>
                <button class="modal-close pulse-glow" onclick="closeVoiceChat()">
                    <i class="fas fa-times flicker"></i>
                    <div class="btn-ripple"></div>
                </button>
            </div>
            
            <div class="voice-container">
                <div class="voice-info neon-border">
                    <div class="voice-channel-name">
                        <i class="fas fa-headphones flicker"></i>
                        <span class="glow-text" id="currentVoiceChannel">–û–±—â–∏–π –≥–æ–ª–æ—Å–æ–≤–æ–π</span>
                    </div>
                    <div class="voice-stats">
                        <span class="flicker" id="voiceParticipants">1 —É—á–∞—Å—Ç–Ω–∏–∫</span>
                        <span class="voice-ping pulse-glow" id="voicePing">–ü–∏–Ω–≥: 24ms</span>
                    </div>
                </div>
                
                <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–≤—É–∫–∞ -->
                <div class="voice-visualizer">
                    <canvas id="voiceVisualizer"></canvas>
                    <div class="visualizer-effects">
                        <div class="viz-dot pulse-glow"></div>
                        <div class="viz-dot pulse-glow" style="animation-delay: 0.1s"></div>
                        <div class="viz-dot pulse-glow" style="animation-delay: 0.2s"></div>
                    </div>
                </div>
                
                <div class="voice-participants" id="voiceParticipantsList">
                    <!-- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —á–∞—Ç–∞ -->
                </div>
                
                <div class="voice-controls">
                    <button class="voice-control-btn pulse-glow hologram-effect" id="voiceMicControl" onclick="toggleMicrophone()">
                        <div class="control-icon">
                            <i class="fas fa-microphone flicker"></i>
                            <div class="control-ring"></div>
                        </div>
                        <span class="glow-text">–ú–∏–∫—Ä–æ—Ñ–æ–Ω</span>
                        <div class="control-status online"></div>
                    </button>
                    <button class="voice-control-btn pulse-glow hologram-effect" id="voiceDeafenControl" onclick="toggleDeafen()">
                        <div class="control-icon">
                            <i class="fas fa-headphones flicker"></i>
                            <div class="control-ring"></div>
                        </div>
                        <span class="glow-text">–ó–≤—É–∫</span>
                        <div class="control-status online"></div>
                    </button>
                    <button class="voice-control-btn pulse-glow hologram-effect" onclick="toggleVideo()">
                        <div class="control-icon">
                            <i class="fas fa-video flicker"></i>
                            <div class="control-ring"></div>
                        </div>
                        <span class="glow-text">–ö–∞–º–µ—Ä–∞</span>
                        <div class="control-status offline"></div>
                    </button>
                    <button class="voice-control-btn disconnect pulse-glow hologram-effect" onclick="leaveVoiceChannel()">
                        <div class="control-icon">
                            <i class="fas fa-phone-slash flicker"></i>
                            <div class="control-ring"></div>
                        </div>
                        <span class="glow-text">–í—ã–π—Ç–∏</span>
                        <div class="control-effect"></div>
                    </button>
                </div>
                
                <div class="voice-settings">
                    <div class="setting-item">
                        <label class="glow-text">üé§ –ì—Ä–æ–º–∫–æ—Å—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</label>
                        <div class="slider-container">
                            <input type="range" id="micVolume" min="0" max="100" value="50">
                            <div class="slider-track"></div>
                            <div class="slider-thumb pulse-glow"></div>
                        </div>
                        <span class="volume-value pulse-glow" id="micVolumeValue">50%</span>
                    </div>
                    <div class="setting-item">
                        <label class="glow-text">üîä –ì—Ä–æ–º–∫–æ—Å—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</label>
                        <div class="slider-container">
                            <input type="range" id="voiceVolume" min="0" max="100" value="50">
                            <div class="slider-track"></div>
                            <div class="slider-thumb pulse-glow"></div>
                        </div>
                        <span class="volume-value pulse-glow" id="voiceVolumeValue">50%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –û–ö–ù–û –Ø–ù–î–ï–ö–°.–¢–ï–õ–ï–ú–û–°–¢ -->
    <div id="telemostModal" class="modal telemost-modal" style="display: none;">
        <div class="modal-content shine-effect">
            <div class="modal-header">
                <h2 class="glow-text"><i class="fab fa-yandex flicker"></i> –Ø–Ω–¥–µ–∫—Å.–¢–µ–ª–µ–º–æ—Å—Ç</h2>
                <button class="modal-close pulse-glow" onclick="closeTelemost()">
                    <i class="fas fa-times flicker"></i>
                    <div class="btn-ripple"></div>
                </button>
            </div>
            
            <div class="telemost-container">
                <div class="telemost-info neon-border">
                    <div class="telemost-channel">
                        <i class="fas fa-headphones flicker"></i>
                        <span class="glow-text" id="telemostChannelName">–û–±—â–∏–π —á–∞—Ç</span>
                    </div>
                    <div class="telemost-stats">
                        <span class="flicker">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –Ø–Ω–¥–µ–∫—Å.–¢–µ–ª–µ–º–æ—Å—Ç...</span>
                        <div class="loading-indicator">
                            <div class="loading-dot pulse-glow"></div>
                            <div class="loading-dot pulse-glow" style="animation-delay: 0.2s"></div>
                            <div class="loading-dot pulse-glow" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                </div>
                
                <div class="telemost-frame-container">
                    <iframe id="telemostFrame" style="display: none;"></iframe>
                    <div class="telemost-placeholder pulse-glow">
                        <div class="placeholder-icon">
                            <i class="fab fa-yandex flicker"></i>
                            <div class="placeholder-glow"></div>
                        </div>
                        <h3 class="glow-text">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É —á–∞—Ç—É</h3>
                        <p class="flicker">–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ø–Ω–¥–µ–∫—Å.–¢–µ–ª–µ–º–æ—Å—Ç...</p>
                        <button class="btn-primary pulse-glow" onclick="openTelemostInNewTab()" id="openTelemostBtn">
                            <span class="btn-text">–û—Ç–∫—Ä—ã—Ç—å –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ</span>
                            <i class="fas fa-external-link-alt"></i>
                            <div class="btn-sparkles">
                                <div class="sparkle"></div>
                                <div class="sparkle"></div>
                                <div class="sparkle"></div>
                            </div>
                        </button>
                    </div>
                </div>
                
                <div class="telemost-controls">
                    <button class="telemost-btn pulse-glow" onclick="copyTelemostLink()">
                        <i class="fas fa-link flicker"></i>
                        <span>–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</span>
                    </button>
                    <button class="telemost-btn pulse-glow" onclick="shareTelemostLink()">
                        <i class="fas fa-share-alt flicker"></i>
                        <span>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</span>
                    </button>
                    <button class="telemost-btn disconnect pulse-glow" onclick="closeTelemost()">
                        <i class="fas fa-times flicker"></i>
                        <span>–ó–∞–∫—Ä—ã—Ç—å</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <audio id="messageSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-message-pop-alert-2354.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="notificationSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="voiceJoinSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3" type="audio/mpeg">
    </audio>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Firebase –∏ —Å–∫—Ä–∏–ø—Ç—ã -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, set, push, onValue, update, remove } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyCMrOR72baFZO7WkThLCV1i8mGOSSiyOQU",
            authDomain: "rucord-f52c5.firebaseapp.com",
            databaseURL: "https://rucord-f52c5-default-rtdb.firebaseio.com",
            projectId: "rucord-f52c5",
            storageBucket: "rucord-f52c5.firebasestorage.app",
            messagingSenderId: "271482429632",
            appId: "1:271482429632:web:cb29bee0edb0abee130d25"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        window.firebaseDatabase = database;
        window.firebaseRef = ref;
        window.firebaseSet = set;
        window.firebasePush = push;
        window.firebaseOnValue = onValue;
        window.firebaseUpdate = update;
        window.firebaseRemove = remove;
        
        console.log("Firebase v9 –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω!");
    </script>
    
    <script src="script.js"></script>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            initParticles();
            initThreeJS();
            initTextReveal();
            startLiveTime();
            initParallax();
        });
        
        function initParticles() {
            particlesJS('particles-js', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: "#5865f2" },
                    shape: { type: "circle" },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: {
                        enable: true,
                        distance: 150,
                        color: "#5865f2",
                        opacity: 0.4,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 2,
                        direction: "none",
                        random: true,
                        straight: false,
                        out_mode: "out",
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" }
                    }
                }
            });
        }
        
        function initThreeJS() {
            const container = document.getElementById('three-container');
            if (!container) return;
            
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
            
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(renderer.domElement);
            
            // –°–æ–∑–¥–∞–µ–º –≥–µ–æ–º–µ—Ç—Ä–∏—é –¥–ª—è —Ñ–æ–Ω–∞
            const geometry = new THREE.IcosahedronGeometry(2, 1);
            const material = new THREE.MeshBasicMaterial({ 
                color: 0x5865f2, 
                wireframe: true,
                transparent: true,
                opacity: 0.1
            });
            const mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);
            
            camera.position.z = 5;
            
            function animate() {
                requestAnimationFrame(animate);
                mesh.rotation.x += 0.001;
                mesh.rotation.y += 0.002;
                renderer.render(scene, camera);
            }
            
            animate();
            
            window.addEventListener('resize', function() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }
        
        function initTextReveal() {
            const reveals = document.querySelectorAll('.text-reveal');
            reveals.forEach((el, i) => {
                const delay = el.style.getPropertyValue('--delay') || '0s';
                el.style.animationDelay = delay;
            });
        }
        
        function startLiveTime() {
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ru-RU');
                const timeElement = document.getElementById('liveTime');
                if (timeElement) {
                    timeElement.textContent = timeString;
                }
            }
            updateTime();
            setInterval(updateTime, 1000);
        }
        
        function initParallax() {
            document.addEventListener('mousemove', function(e) {
                const x = (e.clientX / window.innerWidth - 0.5) * 20;
                const y = (e.clientY / window.innerHeight - 0.5) * 20;
                
                document.querySelectorAll('.parallax-layer').forEach(layer => {
                    const depth = layer.dataset.depth || 1;
                    layer.style.transform = `translate(${x * depth}px, ${y * depth}px)`;
                });
            });
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
        document.querySelectorAll('.pulse-glow').forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.05)';
                this.style.boxShadow = '0 0 30px rgba(88, 101, 242, 0.8)';
            });
            
            btn.addEventListener('mouseleave', function() {
                this.style.transform = '';
                this.style.boxShadow = '';
            });
        });
        
        // –≠—Ñ—Ñ–µ–∫—Ç ripple –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('button').forEach(btn => {
            btn.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                const rect = this.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                const x = e.clientX - rect.left - size / 2;
                const y = e.clientY - rect.top - size / 2;
                
                ripple.style.cssText = `
                    position: absolute;
                    border-radius: 50%;
                    background: rgba(255, 255, 255, 0.7);
                    transform: scale(0);
                    animation: ripple-animation 0.6s linear;
                    width: ${size}px;
                    height: ${size}px;
                    left: ${x}px;
                    top: ${y}px;
                `;
                
                this.appendChild(ripple);
                
                setTimeout(() => ripple.remove(), 600);
            });
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è ripple
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple-animation {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –Ø–Ω–¥–µ–∫—Å.–¢–µ–ª–µ–º–æ—Å—Ç
        let currentTelemostLink = '';
        let currentTelemostName = '';
        
        function joinTelemostChannel(link, name) {
            currentTelemostLink = link;
            currentTelemostName = name;
            
            document.getElementById('telemostChannelName').textContent = name;
            document.getElementById('openTelemostBtn').dataset.link = link;
            
            showNotification(`–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ ${name}...`, 'info');
            playSound('voiceJoinSound');
            
            setTimeout(() => {
                document.getElementById('telemostModal').style.display = 'flex';
                animateModal('telemostModal');
            }, 500);
        }
        
        function closeTelemost() {
            document.getElementById('telemostModal').style.display = 'none';
        }
        
        function openTelemostInNewTab() {
            const btn = document.getElementById('openTelemostBtn');
            const link = btn.dataset.link || currentTelemostLink;
            window.open(link, '_blank');
            showNotification('–¢–µ–ª–µ–º–æ—Å—Ç –æ—Ç–∫—Ä—ã—Ç –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ', 'success');
        }
        
        function copyTelemostLink() {
            navigator.clipboard.writeText(currentTelemostLink)
                .then(() => showNotification('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä', 'success'))
                .catch(() => showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É', 'error'));
        }
        
        function shareTelemostLink() {
            if (navigator.share) {
                navigator.share({
                    title: `–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ ${currentTelemostName}`,
                    text: `–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É —á–∞—Ç—É ${currentTelemostName}`,
                    url: currentTelemostLink
                });
            } else {
                copyTelemostLink();
            }
        }
        
        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            if (sound) {
                sound.currentTime = 0;
                sound.play().catch(e => console.log('–ó–≤—É–∫ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥—ë–Ω:', e));
            }
        }
        
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type} text-reveal`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? '#ff4444' : type === 'success' ? '#43b581' : '#5865f2'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideInRight 0.3s ease;
                display: flex;
                align-items: center;
                gap: 10px;
            `;
            
            notification.innerHTML = `
                <i class="fas fa-${type === 'error' ? 'exclamation-circle' : type === 'success' ? 'check-circle' : 'info-circle'} flicker"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        function animateModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.style.opacity = '0';
                modal.style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    modal.style.opacity = '1';
                    modal.style.transform = 'scale(1)';
                    modal.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                }, 10);
            }
        }
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏
        window.joinTelemostChannel = joinTelemostChannel;
        window.closeTelemost = closeTelemost;
        window.openTelemostInNewTab = openTelemostInNewTab;
        window.copyTelemostLink = copyTelemostLink;
        window.shareTelemostLink = shareTelemostLink;
        window.showNotification = showNotification;
    </script>
</body>
</html>
